add <gallery-modal> and components for sidebar actions such as file downloads.
general tidyup